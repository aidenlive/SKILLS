/**
 * 24-Column Grid System
 * Mobile-first grid with 4px spacing scale
 * No flex-wrap - predictable, controlled layouts
 */

/* ============================================
   BASE CONFIGURATION
   ============================================ */

:root {
  /* Breakpoints */
  --viewport-mobile-sm: 320px;
  --viewport-mobile-lg: 480px;
  --viewport-tablet: 640px;
  --viewport-desktop: 1024px;
  --viewport-wide: 1440px;

  /* Spacing Scale (4px base) */
  --space-0: 0;
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-6: 24px;
  --space-8: 32px;
  --space-12: 48px;
  --space-16: 64px;
  --space-24: 96px;
  --space-32: 128px;

  /* Grid Configuration */
  --grid-columns: 24;
  --grid-gap: var(--space-4);
}

/* Reset box-sizing for grid */
*,
*::before,
*::after {
  box-sizing: border-box;
}

/* ============================================
   GRID CONTAINER
   ============================================ */

.grid {
  display: grid;
  grid-template-columns: repeat(var(--grid-columns), 1fr);
  gap: var(--grid-gap);
  width: 100%;
}

/* Grid Gaps */
.grid-gap-0 { gap: 0; }
.grid-gap-1 { gap: var(--space-1); }
.grid-gap-2 { gap: var(--space-2); }
.grid-gap-3 { gap: var(--space-3); }
.grid-gap-4 { gap: var(--space-4); }
.grid-gap-6 { gap: var(--space-6); }
.grid-gap-8 { gap: var(--space-8); }

/* ============================================
   COLUMN SPANS (Mobile First)
   ============================================ */

/* Full Width */
.col-24 { grid-column: span 24; }

/* Halves */
.col-12 { grid-column: span 12; }

/* Thirds */
.col-8 { grid-column: span 8; }
.col-16 { grid-column: span 16; } /* 2/3 */

/* Quarters */
.col-6 { grid-column: span 6; }
.col-18 { grid-column: span 18; } /* 3/4 */

/* Sixths */
.col-4 { grid-column: span 4; }
.col-20 { grid-column: span 20; } /* 5/6 */

/* Other Useful Spans */
.col-1 { grid-column: span 1; }
.col-2 { grid-column: span 2; }
.col-3 { grid-column: span 3; }
.col-5 { grid-column: span 5; }
.col-7 { grid-column: span 7; }
.col-9 { grid-column: span 9; }
.col-10 { grid-column: span 10; }
.col-11 { grid-column: span 11; }

/* ============================================
   TABLET BREAKPOINT (640px+)
   ============================================ */

@media (min-width: 640px) {
  .col-sm-24 { grid-column: span 24; }
  .col-sm-12 { grid-column: span 12; }
  .col-sm-8 { grid-column: span 8; }
  .col-sm-6 { grid-column: span 6; }
  .col-sm-4 { grid-column: span 4; }
  .col-sm-3 { grid-column: span 3; }
  .col-sm-16 { grid-column: span 16; }
  .col-sm-18 { grid-column: span 18; }
  .col-sm-20 { grid-column: span 20; }

  /* Responsive gap */
  .grid-gap-sm-6 { gap: var(--space-6); }
  .grid-gap-sm-8 { gap: var(--space-8); }
}

/* ============================================
   DESKTOP BREAKPOINT (1024px+)
   ============================================ */

@media (min-width: 1024px) {
  .col-md-24 { grid-column: span 24; }
  .col-md-12 { grid-column: span 12; }
  .col-md-8 { grid-column: span 8; }
  .col-md-6 { grid-column: span 6; }
  .col-md-4 { grid-column: span 4; }
  .col-md-3 { grid-column: span 3; }
  .col-md-16 { grid-column: span 16; }
  .col-md-18 { grid-column: span 18; }
  .col-md-20 { grid-column: span 20; }

  /* Responsive gap */
  .grid-gap-md-8 { gap: var(--space-8); }
  .grid-gap-md-12 { gap: var(--space-12); }
}

/* ============================================
   WIDE BREAKPOINT (1440px+)
   ============================================ */

@media (min-width: 1440px) {
  .col-lg-24 { grid-column: span 24; }
  .col-lg-12 { grid-column: span 12; }
  .col-lg-8 { grid-column: span 8; }
  .col-lg-6 { grid-column: span 6; }
  .col-lg-4 { grid-column: span 4; }
  .col-lg-16 { grid-column: span 16; }
  .col-lg-18 { grid-column: span 18; }

  /* Responsive gap */
  .grid-gap-lg-12 { gap: var(--space-12); }
  .grid-gap-lg-16 { gap: var(--space-16); }
}

/* ============================================
   COLUMN START POSITIONS
   ============================================ */

.col-start-1 { grid-column-start: 1; }
.col-start-2 { grid-column-start: 2; }
.col-start-3 { grid-column-start: 3; }
.col-start-4 { grid-column-start: 4; }
.col-start-5 { grid-column-start: 5; }
.col-start-6 { grid-column-start: 6; }
.col-start-7 { grid-column-start: 7; }
.col-start-8 { grid-column-start: 8; }
.col-start-9 { grid-column-start: 9; }

@media (min-width: 640px) {
  .col-sm-start-1 { grid-column-start: 1; }
  .col-sm-start-7 { grid-column-start: 7; }
  .col-sm-start-13 { grid-column-start: 13; }
}

@media (min-width: 1024px) {
  .col-md-start-1 { grid-column-start: 1; }
  .col-md-start-7 { grid-column-start: 7; }
  .col-md-start-13 { grid-column-start: 13; }
  .col-md-start-19 { grid-column-start: 19; }
}

/* ============================================
   ROW SPANS
   ============================================ */

.row-span-1 { grid-row: span 1; }
.row-span-2 { grid-row: span 2; }
.row-span-3 { grid-row: span 3; }
.row-span-4 { grid-row: span 4; }
.row-span-5 { grid-row: span 5; }
.row-span-6 { grid-row: span 6; }

/* ============================================
   AUTO-FIT & AUTO-FILL GRIDS
   ============================================ */

/* Card Grid - Automatically fits items */
.grid-auto-fit {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: var(--grid-gap);
}

.grid-auto-fit-sm {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: var(--grid-gap);
}

.grid-auto-fit-lg {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
  gap: var(--grid-gap);
}

/* Ensure single column on mobile */
@media (max-width: 639px) {
  .grid-auto-fit,
  .grid-auto-fit-sm,
  .grid-auto-fit-lg {
    grid-template-columns: 1fr;
  }
}

/* ============================================
   EQUAL HEIGHT COLUMNS
   ============================================ */

.grid-rows-equal {
  grid-auto-rows: 1fr;
}

/* ============================================
   DENSE PACKING
   ============================================ */

.grid-dense {
  grid-auto-flow: dense;
}

/* ============================================
   SUBGRID (for nested grids)
   ============================================ */

@supports (grid-template-columns: subgrid) {
  .subgrid {
    display: grid;
    grid-template-columns: subgrid;
  }
}

/* ============================================
   CONTAINER WIDTHS
   ============================================ */

.container {
  width: 100%;
  margin-left: auto;
  margin-right: auto;
  padding-left: var(--space-4);
  padding-right: var(--space-4);
}

.container-sm { max-width: 640px; }
.container-md { max-width: 768px; }
.container-lg { max-width: 1024px; }
.container-xl { max-width: 1280px; }
.container-2xl { max-width: 1440px; }

/* Responsive container padding */
@media (min-width: 640px) {
  .container {
    padding-left: var(--space-6);
    padding-right: var(--space-6);
  }
}

@media (min-width: 1024px) {
  .container {
    padding-left: var(--space-8);
    padding-right: var(--space-8);
  }
}

/* ============================================
   UTILITIES
   ============================================ */

/* Order */
.order-first { order: -1; }
.order-last { order: 9999; }
.order-none { order: 0; }

/* Alignment */
.place-self-start { place-self: start; }
.place-self-center { place-self: center; }
.place-self-end { place-self: end; }
.place-self-stretch { place-self: stretch; }

.justify-self-start { justify-self: start; }
.justify-self-center { justify-self: center; }
.justify-self-end { justify-self: end; }
.justify-self-stretch { justify-self: stretch; }

.align-self-start { align-self: start; }
.align-self-center { align-self: center; }
.align-self-end { align-self: end; }
.align-self-stretch { align-self: stretch; }

/* ============================================
   EXAMPLES & PATTERNS
   ============================================ */

/* Example: Two-Column Layout (Sidebar + Main) */
.layout-sidebar {
  display: grid;
  grid-template-columns: repeat(24, 1fr);
  gap: var(--space-6);
}

.layout-sidebar .sidebar {
  grid-column: span 24; /* Full width on mobile */
}

.layout-sidebar .main {
  grid-column: span 24; /* Full width on mobile */
}

@media (min-width: 1024px) {
  .layout-sidebar .sidebar {
    grid-column: span 6; /* 1/4 width on desktop */
  }

  .layout-sidebar .main {
    grid-column: span 18; /* 3/4 width on desktop */
  }
}

/* Example: Three-Column Layout */
.layout-three-col {
  display: grid;
  grid-template-columns: repeat(24, 1fr);
  gap: var(--space-4);
}

.layout-three-col > * {
  grid-column: span 24; /* Stack on mobile */
}

@media (min-width: 640px) {
  .layout-three-col > * {
    grid-column: span 12; /* Two columns on tablet */
  }
}

@media (min-width: 1024px) {
  .layout-three-col > * {
    grid-column: span 8; /* Three columns on desktop */
  }
}

/* Example: Asymmetric Layout (2:1 ratio) */
.layout-asymmetric {
  display: grid;
  grid-template-columns: repeat(24, 1fr);
  gap: var(--space-6);
}

.layout-asymmetric .primary {
  grid-column: span 24; /* Full width on mobile */
}

.layout-asymmetric .secondary {
  grid-column: span 24; /* Full width on mobile */
}

@media (min-width: 1024px) {
  .layout-asymmetric .primary {
    grid-column: span 16; /* 2/3 width on desktop */
  }

  .layout-asymmetric .secondary {
    grid-column: span 8; /* 1/3 width on desktop */
  }
}

/* Example: Holy Grail Layout */
.layout-holy-grail {
  display: grid;
  grid-template-columns: repeat(24, 1fr);
  gap: var(--space-4);
  grid-template-areas:
    "header"
    "main"
    "sidebar"
    "footer";
}

.layout-holy-grail .header { grid-area: header; grid-column: span 24; }
.layout-holy-grail .main { grid-area: main; grid-column: span 24; }
.layout-holy-grail .sidebar { grid-area: sidebar; grid-column: span 24; }
.layout-holy-grail .footer { grid-area: footer; grid-column: span 24; }

@media (min-width: 1024px) {
  .layout-holy-grail {
    grid-template-areas:
      "header header header"
      "sidebar main main"
      "footer footer footer";
  }

  .layout-holy-grail .header { grid-column: span 24; }
  .layout-holy-grail .sidebar { grid-column: span 6; }
  .layout-holy-grail .main { grid-column: span 18; }
  .layout-holy-grail .footer { grid-column: span 24; }
}

/* ============================================
   DEBUGGING
   ============================================ */

/* Show grid overlay (for development) */
.grid-debug {
  position: relative;
}

.grid-debug::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: repeating-linear-gradient(
    90deg,
    rgba(255, 0, 0, 0.1) 0,
    rgba(255, 0, 0, 0.1) 1px,
    transparent 1px,
    transparent calc(100% / 24)
  );
  pointer-events: none;
  z-index: 9999;
}
